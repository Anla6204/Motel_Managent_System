<Window x:Class="AnLaNPWPF.Views.ContractDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Há»£p Äá»“ng ThuÃª PhÃ²ng" Height="650" Width="800" 
        WindowStartupLocation="CenterScreen" ResizeMode="NoResize">
    
    <Window.Resources>
        <Style x:Key="ModernButton" TargetType="Button">
            <Setter Property="Background" Value="#4A90E2"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Padding" Value="15,8"/>
            <Setter Property="Margin" Value="5"/>
            <Setter Property="FontWeight" Value="Medium"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}" CornerRadius="5">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#357ABD"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="SuccessButton" TargetType="Button" BasedOn="{StaticResource ModernButton}">
            <Setter Property="Background" Value="#27AE60"/>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Background" Value="#219A52"/>
                </Trigger>
            </Style.Triggers>
        </Style>

        <Style x:Key="CancelButton" TargetType="Button" BasedOn="{StaticResource ModernButton}">
            <Setter Property="Background" Value="#95A5A6"/>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Background" Value="#7F8C8D"/>
                </Trigger>
            </Style.Triggers>
        </Style>
    </Window.Resources>

    <Grid Background="#F8F9FA">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <Border Grid.Row="0" Background="#2C3E50" Padding="20">
            <StackPanel>
                <TextBlock x:Name="txtTitle" Text="ðŸ“‹ Táº¡o Há»£p Äá»“ng Má»›i" FontSize="20" FontWeight="Bold" 
                           Foreground="White" HorizontalAlignment="Center"/>
                <TextBlock x:Name="txtSubtitle" Text="Äiá»n thÃ´ng tin há»£p Ä‘á»“ng thuÃª phÃ²ng" 
                           FontSize="14" Foreground="#BDC3C7" HorizontalAlignment="Center" Margin="0,5,0,0"/>
            </StackPanel>
        </Border>

        <!-- Content -->
        <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto" Padding="20">
            <StackPanel>
                <!-- Contract Info -->
                <GroupBox Header="ðŸ“„ ThÃ´ng tin há»£p Ä‘á»“ng" Margin="0,0,0,15" Padding="15">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>

                        <StackPanel Grid.Row="0" Grid.Column="0" Margin="0,0,10,15">
                            <TextBlock Text="Sá»‘ há»£p Ä‘á»“ng *" FontWeight="Medium" Margin="0,0,0,5"/>
                            <TextBox x:Name="txtContractNumber" Padding="8" 
                                     ToolTip="Sá»‘ há»£p Ä‘á»“ng (cÃ³ thá»ƒ chá»‰nh sá»­a)"/>
                        </StackPanel>

                        <StackPanel Grid.Row="0" Grid.Column="1" Margin="10,0,0,15">
                            <TextBlock Text="Tráº¡ng thÃ¡i *" FontWeight="Medium" Margin="0,0,0,5"/>
                            <ComboBox x:Name="cmbContractStatus" Padding="8">
                                <ComboBoxItem Content="ðŸŸ¡ Chá» xá»­ lÃ½" Tag="Pending"/>
                                <ComboBoxItem Content="ðŸŸ¢ Äang hiá»‡u lá»±c" Tag="Active"/>
                                <ComboBoxItem Content="ðŸ”´ Háº¿t háº¡n" Tag="Expired"/>
                                <ComboBoxItem Content="âš« ÄÃ£ cháº¥m dá»©t" Tag="Terminated"/>
                            </ComboBox>
                        </StackPanel>

                        <StackPanel Grid.Row="1" Grid.Column="0" Margin="0,0,10,15">
                            <TextBlock Text="NgÃ y báº¯t Ä‘áº§u *" FontWeight="Medium" Margin="0,0,0,5"/>
                            <DatePicker x:Name="dpStartDate" Padding="8" SelectedDateChanged="StartDate_Changed"/>
                        </StackPanel>

                        <StackPanel Grid.Row="1" Grid.Column="1" Margin="10,0,0,15">
                            <TextBlock Text="Thá»i háº¡n há»£p Ä‘á»“ng *" FontWeight="Medium" Margin="0,0,0,5"/>
                            <ComboBox x:Name="cmbContractDuration" Padding="8" SelectionChanged="Duration_Changed">
                                <ComboBoxItem Content="6 thÃ¡ng" Tag="6" IsSelected="True"/>
                                <ComboBoxItem Content="12 thÃ¡ng" Tag="12"/>
                            </ComboBox>
                        </StackPanel>

                        <StackPanel Grid.Row="2" Grid.Column="0" Grid.ColumnSpan="2">
                            <TextBlock Text="NgÃ y káº¿t thÃºc" FontWeight="Medium" Margin="0,0,0,5"/>
                            <DatePicker x:Name="dpEndDate" Padding="8" IsEnabled="False" Background="#ECF0F1"/>
                        </StackPanel>
                    </Grid>
                </GroupBox>

                <!-- Customer and Room -->
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>

                    <!-- Customer Info -->
                    <GroupBox Grid.Column="0" Header="ðŸ‘¤ KhÃ¡ch hÃ ng" Margin="0,0,7.5,15" Padding="15">
                        <StackPanel>
                            <TextBlock Text="Chá»n khÃ¡ch hÃ ng *" FontWeight="Medium" Margin="0,0,0,5"/>
                            <ComboBox x:Name="cmbCustomer" Padding="8" DisplayMemberPath="CustomerFullName" 
                                      SelectedValuePath="CustomerID"/>
                            <Button x:Name="btnAddCustomer" Content="âž• ThÃªm khÃ¡ch hÃ ng má»›i" 
                                    Style="{StaticResource ModernButton}" Margin="0,10,0,0" 
                                    Click="AddCustomer_Click"/>
                        </StackPanel>
                    </GroupBox>

                    <!-- Room Info -->
                    <GroupBox Grid.Column="1" Header="ðŸ  PhÃ²ng" Margin="7.5,0,0,15" Padding="15">
                        <StackPanel>
                            <TextBlock Text="Chá»n phÃ²ng *" FontWeight="Medium" Margin="0,0,0,5"/>
                            <ComboBox x:Name="cmbRoom" Padding="8" DisplayMemberPath="RoomNumber" 
                                      SelectedValuePath="RoomID" SelectionChanged="Room_Changed"/>
                            <TextBlock x:Name="txtRoomInfo" Text="Chá»n phÃ²ng Ä‘á»ƒ xem thÃ´ng tin" 
                                       FontSize="12" Foreground="#7F8C8D" Margin="0,5,0,0" TextWrapping="Wrap"/>
                        </StackPanel>
                    </GroupBox>
                </Grid>

                <!-- Financial Info -->
                <GroupBox Header="ðŸ’° ThÃ´ng tin tÃ i chÃ­nh" Margin="0,0,0,15" Padding="15">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>

                        <StackPanel Grid.Row="0" Grid.Column="0" Margin="0,0,10,15">
                            <TextBlock Text="Tiá»n thuÃª hÃ ng thÃ¡ng (VND) *" FontWeight="Medium" Margin="0,0,0,5"/>
                            <TextBox x:Name="txtMonthlyRent" Padding="8" TextChanged="MonthlyRent_Changed"
                                     ToolTip="Nháº­p sá»‘ tiá»n thuÃª phÃ²ng hÃ ng thÃ¡ng"/>
                        </StackPanel>

                        <StackPanel Grid.Row="0" Grid.Column="1" Margin="10,0,0,15">
                            <TextBlock Text="Tiá»n cá»c (VND) *" FontWeight="Medium" Margin="0,0,0,5"/>
                            <TextBox x:Name="txtSecurityDeposit" Padding="8" 
                                     ToolTip="Tiá»n cá»c (thÆ°á»ng báº±ng 1-2 thÃ¡ng tiá»n thuÃª)"/>
                        </StackPanel>

                        <StackPanel Grid.Row="1" Grid.Column="0" Grid.ColumnSpan="2">
                            <TextBlock Text="Tá»•ng giÃ¡ trá»‹ há»£p Ä‘á»“ng:" FontWeight="Medium" Margin="0,0,0,5"/>
                            <TextBlock x:Name="txtTotalValue" Text="0 VND" FontSize="16" FontWeight="Bold" 
                                       Foreground="#27AE60" Margin="0,0,0,10"/>
                        </StackPanel>
                    </Grid>
                </GroupBox>

                <!-- Contract Terms -->
                <GroupBox Header="ðŸ“ Äiá»u khoáº£n há»£p Ä‘á»“ng" Padding="15">
                    <StackPanel>
                        <TextBlock Text="Äiá»u khoáº£n vÃ  ghi chÃº" FontWeight="Medium" Margin="0,0,0,5"/>
                        <TextBox x:Name="txtContractTerms" Height="80" Padding="8" TextWrapping="Wrap" 
                                 AcceptsReturn="True" VerticalScrollBarVisibility="Auto"
                                 ToolTip="CÃ¡c Ä‘iá»u khoáº£n Ä‘áº·c biá»‡t, quy Ä‘á»‹nh, ghi chÃº..."/>
                    </StackPanel>
                </GroupBox>
            </StackPanel>
        </ScrollViewer>

        <!-- Footer -->
        <Border Grid.Row="2" Background="White" Padding="20" BorderBrush="#E1E8ED" BorderThickness="0,1,0,0">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <TextBlock Grid.Column="0" x:Name="txtValidationMessage" 
                           Text="Vui lÃ²ng Ä‘iá»n Ä‘áº§y Ä‘á»§ thÃ´ng tin báº¯t buá»™c (*)" 
                           VerticalAlignment="Center" Foreground="#E74C3C" FontStyle="Italic"/>

                <StackPanel Grid.Column="1" Orientation="Horizontal">
                    <Button x:Name="btnSave" Content="ðŸ’¾ LÆ°u há»£p Ä‘á»“ng" 
                            Style="{StaticResource SuccessButton}" Click="SaveButton_Click"/>
                    <Button x:Name="btnCancel" Content="âŒ Há»§y" 
                            Style="{StaticResource CancelButton}" Click="CancelButton_Click"/>
                </StackPanel>
            </Grid>
        </Border>
    </Grid>
</Window>
